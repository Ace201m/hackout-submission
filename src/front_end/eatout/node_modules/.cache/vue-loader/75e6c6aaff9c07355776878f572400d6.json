{"remainingRequest":"/home/khush/Desktop/hackout-submission/src/front_end/eatout/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/khush/Desktop/hackout-submission/src/front_end/eatout/src/components/body.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/khush/Desktop/hackout-submission/src/front_end/eatout/src/components/body.vue","mtime":1581730451219},{"path":"/home/khush/Desktop/hackout-submission/src/front_end/eatout/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khush/Desktop/hackout-submission/src/front_end/eatout/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/khush/Desktop/hackout-submission/src/front_end/eatout/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/khush/Desktop/hackout-submission/src/front_end/eatout/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtZXNzYWdlRGlzcGxheSBmcm9tICcuL21lc3NhZ2VEaXNwbGF5LnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0JvZHknLAogIGNvbXBvbmVudHM6IHsKICAgICdtZXNzYWdlRGlzcGxheSc6IG1lc3NhZ2VEaXNwbGF5CiAgfSwKICBkYXRhOiAoKT0+ewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL3JlY29tbWVuZGVyP2lzdmVnPScsCiAgICAgIHE6IFtdLAogICAgICBpc1ZlZzogJycsCiAgICAgIGNhdGVnb3JpZXM6IFsnU3RhcnQhJ10sCiAgICAgIGluaXRpYWw6IHRydWUsCiAgICAgIHF1ZXN0aW9uOiAiQ2FuJ3QgdGhpbmsgd2hhdCB0byBlYXQsIEkgY2FuIGhlbHA/IiwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRpYWxpemUgKCkgewogICAgICB0aGlzLnF1ZXN0aW9uID0gIldoYXQgd291bGQgeW91IHByZWZlcj8iOwogICAgICB0aGlzLmNhdGVnb3JpZXMgPSBbJ1ZlZycsICdCb3RoJywgJ05vbiB2ZWcnXTsKICAgICAgdGhpcy5pbml0aWFsID0gZmFsc2U7CiAgICB9LAogICAgc2V0SXNWZWcgKGlucCkgewogICAgICB0aGlzLmlzVmVnID0gaW5wOwogICAgICB0aGlzLmlzVmVnID0gdGhpcy5pc1ZlZy5yZXBsYWNlKC9ccy9nLCcnKS50b0xvd2VyQ2FzZSgpOwogICAgICB2YXIgbmV3TWVzc2FnZSA9IHsKICAgICAgICBmcm9tQm90OiBmYWxzZSwKICAgICAgICBtZXNzYWdlVGV4dDogIllvdSBzZWxlY3RlZCAiK2lucCsnLicKICAgICAgfQogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobmV3TWVzc2FnZSk7CgogICAgICAvLyBzZW5kIHJlcXVlc3QKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMuYmFzZVVSTCt0aGlzLmlzVmVnKycmcXVlcnk9JykudGhlbigKICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHZhciBubmV3TWVzc2FnZSA9IHsKICAgICAgICAgICAgbWVzc2FnZVRleHQ6ICJXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGhhdmU/IiwKICAgICAgICAgICAgZnJvbUJvdDogdHJ1ZSwKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnF1ZXN0aW9uID0gIlNlbGVjdCBmcm9tIGdpdmVuIG9wdGlvbnMgLSI7ICAgICAgICAgIAogICAgICAgICAgdmFyIHRlbXAgPSBbXTsKICAgICAgICAgIGZvcih2YXIgaSBpbiByZXNwb25zZS5ib2R5Lm9wdGlvbnMpewogICAgICAgICAgICB0ZW1wLnB1c2gocmVzcG9uc2UuYm9keS5vcHRpb25zW2ldKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IHRlbXA7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobm5ld01lc3NhZ2UpOwoKCiAgICAgICAgfQogICAgICApLmNhdGNoKCByZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0U29tZXRoaW5nIChjYXRlZ29yeSkgewogICAgICB0aGlzLnEucHVzaChjYXRlZ29yeSk7CiAgICAgIAogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goewogICAgICAgIGZyb21Cb3Q6IGZhbHNlLAogICAgICAgIG1lc3NhZ2VUZXh0OiAiWW91IHNlbGVjdGVkICIrY2F0ZWdvcnkrJy4nCiAgICAgIH0pOwoKICAgICAgdmFyIHF1ZXJ5QWRkT24gPSAnJzsKCiAgICAgIGZvcih2YXIgYSBpbiB0aGlzLnEpewogICAgICAgIHF1ZXJ5QWRkT24gKz0gdGhpcy5xW2FdLnJlcGxhY2UoJyAnLCdfJyk7CiAgICAgICAgaWYoYSE9dGhpcy5xLmxlbmd0aC0xKXsKICAgICAgICAgIHF1ZXJ5QWRkT24gKz0gJyonOwogICAgICAgIH0KICAgICAgICAgIAogICAgICB9CiAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMuYmFzZVVSTCt0aGlzLmlzVmVnKycmcXVlcnk9JytxdWVyeUFkZE9uKS50aGVuKAogICAgICAgIChyZXNwb25zZSkgPT4gewogICAgICAgICAgCiAgICAgICAgICBpZigncmVzdWx0JyBpbiByZXNwb25zZS5ib2R5KXsKCiAgICAgICAgICAgIHRoaXMucXVlc3Rpb24gPSAiY29tcGxldGUiOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmJvZHkucmVzdWx0KTsKICAgICAgICAgICAgdmFyIG5ubmV3TWVzc2FnZSA9IHsKICAgICAgICAgICAgICBtZXNzYWdlVGV4dDogcmVzcG9uc2UuYm9keS5yZXN1bHQsCiAgICAgICAgICAgICAgZnJvbUJvdDogdHJ1ZSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKG5ubmV3TWVzc2FnZSk7CiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IFtdOwogICAgICAgICAgfQogICAgICAgICAgZWxzZXsKICAgICAgICAgICAgdmFyIG5uZXdNZXNzYWdlID0gewogICAgICAgICAgICBtZXNzYWdlVGV4dDogIldoYXQgd291bGQgeW91IGxpa2UgdG8gaGF2ZT8iLAogICAgICAgICAgICBmcm9tQm90OiB0cnVlLAogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMucXVlc3Rpb24gPSAiU2VsZWN0IGZyb20gZ2l2ZW4gb3B0aW9ucyAtIjsgICAgICAgICAgCiAgICAgICAgICB2YXIgdGVtcCA9IFtdOwogICAgICAgICAgZm9yKHZhciBpIGluIHJlc3BvbnNlLmJvZHkub3B0aW9ucyl7CiAgICAgICAgICAgIHRlbXAucHVzaChyZXNwb25zZS5ib2R5Lm9wdGlvbnNbaV0pOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gdGVtcDsKICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChubmV3TWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgICAKCgogICAgICAgIH0KICAgICAgKS5jYXRjaCggcmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0TWVzc2FnZXMgKCkgewogICAgICByZXR1cm4gdGhpcy5tZXNzYWdlczsKICAgIH0KICB9LAogIAp9Cg=="},{"version":3,"sources":["body.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"body.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"app_body container\">\n    <template v-for='(message, index) in getMessages'>\n      <messageDisplay v-bind:message='message' :fromBot='message.fromBot' :key=\"index\"></messageDisplay>\n    </template>\n    \n    <br>\n    <hr v-if=\"!initial && isVeg!=''\">\n    <h3>{{ question }}</h3>\n    <br>\n    \n    \n    <button class=\"btn\" v-if='initial' @click=\"initialize()\" >Start!</button>\n    \n    <template v-if=\"!initial && isVeg==''\" >\n      <template v-for='category in categories'>\n    <button class=\"btn\"   :key='category' @click=\"setIsVeg(category)\" >{{ category }}</button>\n    </template>\n    </template>\n\n    <template v-if=\"!initial && isVeg!=''\">\n      <template v-for='category in categories'>\n    <button class=\"btn\" :key='category' @click=\"getSomething(category)\" >{{ category }}</button>\n    </template>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport messageDisplay from './messageDisplay.vue';\n\nexport default {\n  name: 'Body',\n  components: {\n    'messageDisplay': messageDisplay\n  },\n  data: ()=>{\n    return {\n      messages: [],\n      baseURL: 'http://localhost:5000/recommender?isveg=',\n      q: [],\n      isVeg: '',\n      categories: ['Start!'],\n      initial: true,\n      question: \"Can't think what to eat, I can help?\",\n    }\n  },\n  methods: {\n    initialize () {\n      this.question = \"What would you prefer?\";\n      this.categories = ['Veg', 'Both', 'Non veg'];\n      this.initial = false;\n    },\n    setIsVeg (inp) {\n      this.isVeg = inp;\n      this.isVeg = this.isVeg.replace(/\\s/g,'').toLowerCase();\n      var newMessage = {\n        fromBot: false,\n        messageText: \"You selected \"+inp+'.'\n      }\n      this.messages.push(newMessage);\n\n      // send request\n\n      this.$http.get(this.baseURL+this.isVeg+'&query=').then(\n        (response) => {\n          var nnewMessage = {\n            messageText: \"What would you like to have?\",\n            fromBot: true,\n          }\n\n          this.question = \"Select from given options -\";          \n          var temp = [];\n          for(var i in response.body.options){\n            temp.push(response.body.options[i]);\n          }\n          this.categories = temp;\n          this.messages.push(nnewMessage);\n\n\n        }\n      ).catch( response => {\n        console.log(response);\n      });\n    },\n\n    getSomething (category) {\n      this.q.push(category);\n      \n      this.messages.push({\n        fromBot: false,\n        messageText: \"You selected \"+category+'.'\n      });\n\n      var queryAddOn = '';\n\n      for(var a in this.q){\n        queryAddOn += this.q[a].replace(' ','_');\n        if(a!=this.q.length-1){\n          queryAddOn += '*';\n        }\n          \n      }\n      this.$http.get(this.baseURL+this.isVeg+'&query='+queryAddOn).then(\n        (response) => {\n          \n          if('result' in response.body){\n\n            this.question = \"complete\";\n            console.log(response);\n            console.log(response.body.result);\n            var nnnewMessage = {\n              messageText: response.body.result,\n              fromBot: true,\n            };\n            this.messages.push(nnnewMessage);\n            this.categories = [];\n          }\n          else{\n            var nnewMessage = {\n            messageText: \"What would you like to have?\",\n            fromBot: true,\n          }\n\n          this.question = \"Select from given options -\";          \n          var temp = [];\n          for(var i in response.body.options){\n            temp.push(response.body.options[i]);\n          }\n          this.categories = temp;\n          this.messages.push(nnewMessage);\n          }\n          \n\n\n        }\n      ).catch( response => {\n        console.log(response);\n      });\n    }\n  },\n  computed: {\n    getMessages () {\n      return this.messages;\n    }\n  },\n  \n}\n</script>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.app_body {\n    margin-top:10px;\n    min-height: 400px;\n    margin-bottom:70px;\n}\ndiv.app_body {\n  border: 20px #f43461 solid;\n}\n.btn {\n  background-color: #f43461;\n  color: white;\n  padding: 7px;\n  border-radius: 10px;\n  margin: 15px;\n  margin-top:7px;\n}\n.btn:focus, .btn:active:focus, .btn.active:focus{\n    outline:none;\n    box-shadow:none;\n}\nh3{\n  margin-bottom: 0px;\n  padding-bottom: 0;\n}\n\n</style>\n"]}]}